<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íŠ¹ì¢…ë³´í—˜ ëª¨ë“ˆ í…ŒìŠ¤íŠ¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script>
        // íŠ¹ì¢…ë³´í—˜ ì „ìš© í…ŒìŠ¤íŠ¸ ì•±
        const SpecialInsuranceTest = {
            data: {
                questions: [],
                isDataLoaded: false,
                currentQuestionIndex: 0,
                selectedAnswer: null,
                completedQuestions: 0,
                correctAnswers: 0,
                // ë¶ˆê¸°ì™€ ì´ì–´í’€ê¸° ê¸°ëŠ¥ ì¶”ê°€
                isFirstTime: true,
                lastCompletedIndex: -1,
                sessionProgress: {}
            },

            // CSV ë°ì´í„° ë¡œë“œ
            loadData: function() {
                return new Promise((resolve, reject) => {
                    Papa.parse('ins_master_db.csv', {
                        download: true,
                        header: true,
                        complete: function(results) {
                            console.log('CSV ë°ì´í„° ë¡œë“œ ì™„ë£Œ:', results.data.length, 'ê°œ ë¬¸ì œ');
                            
                            // íŠ¹ì¢…ë³´í—˜ë§Œ í•„í„°ë§ (LAYER1ì´ '07íŠ¹ì¢…ë³´í—˜'ì¸ ë¬¸ì œë“¤)
                            SpecialInsuranceTest.data.questions = results.data.filter(row => 
                                row.QCODE && row.QUESTION && row.ANSWER && row.LAYER1 === '07íŠ¹ì¢…ë³´í—˜'
                            );
                            
                            SpecialInsuranceTest.data.isDataLoaded = true;
                            console.log('íŠ¹ì¢…ë³´í—˜ ë¬¸ì œ í•„í„°ë§ ì™„ë£Œ:', SpecialInsuranceTest.data.questions.length, 'ê°œ ë¬¸ì œ');
                            
                            // ë°ì´í„° ë¡œë“œ í›„ ì¦‰ì‹œ í†µê³„ ì—…ë°ì´íŠ¸
                            SpecialInsuranceTest.updateStats();
                            
                            resolve(SpecialInsuranceTest.data.questions);
                        },
                        error: function(error) {
                            console.error('CSV ë¡œë“œ ì˜¤ë¥˜:', error);
                            reject(error);
                        }
                    });
                });
            },

            // ì´ˆê¸°í™”
            init: function() {
                this.loadData().then(() => {
                    // í•™ìŠµ ëª¨ë“œ í™•ì¸
                    const learningMode = document.querySelector('input[name="learning-mode"]:checked').value;
                    console.log('ì„ íƒëœ í•™ìŠµ ëª¨ë“œ:', learningMode);
                    
                    if (learningMode === 'restart') {
                        // ì²˜ìŒë¶€í„° í’€ê¸°: ì§„í–‰ìƒí™© ì´ˆê¸°í™”
                        this.resetProgress();
                        console.log('íŠ¹ì¢…ë³´í—˜ ì§„í–‰ìƒí™© ì´ˆê¸°í™” ì™„ë£Œ');
                    } else {
                        // ì´ì–´í’€ê¸°: ì§„í–‰ìƒí™© ë¡œë“œ
                        this.loadProgress();
                    }
                    
                    this.showQuestion();
                }).catch(error => {
                    console.error('ì´ˆê¸°í™” ì˜¤ë¥˜:', error);
                    document.getElementById('error-message').textContent = 'ë°ì´í„° ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                });
            },

            // ì§„í–‰ìƒí™© ë¡œë“œ
            loadProgress: function() {
                const savedProgress = localStorage.getItem('specialInsuranceProgress');
                if (savedProgress) {
                    try {
                        const progress = JSON.parse(savedProgress);
                        this.data.completedQuestions = progress.completedQuestions || 0;
                        this.data.correctAnswers = progress.correctAnswers || 0;
                        this.data.lastCompletedIndex = progress.lastCompletedIndex || -1;
                        this.data.sessionProgress = progress.sessionProgress || {};
                        
                        // ì´ì–´í’€ê¸°: ë§ˆì§€ë§‰ ì™„ë£Œëœ ë¬¸ì œ ë‹¤ìŒë¶€í„° ì‹œì‘
                        if (this.data.lastCompletedIndex >= 0 && this.data.lastCompletedIndex < this.data.questions.length - 1) {
                            this.data.currentQuestionIndex = this.data.lastCompletedIndex + 1;
                            this.data.isFirstTime = false;
                        }
                        
                        console.log('íŠ¹ì¢…ë³´í—˜ ì§„í–‰ìƒí™© ë¡œë“œ ì™„ë£Œ:', {
                            completed: this.data.completedQuestions,
                            correct: this.data.correctAnswers,
                            lastIndex: this.data.lastCompletedIndex,
                            currentIndex: this.data.currentQuestionIndex
                        });
                    } catch (error) {
                        console.error('ì§„í–‰ìƒí™© ë¡œë“œ ì˜¤ë¥˜:', error);
                    }
                }
            },

            // ì§„í–‰ìƒí™© ì €ì¥
            saveProgress: function() {
                const progress = {
                    completedQuestions: this.data.completedQuestions,
                    correctAnswers: this.data.correctAnswers,
                    lastCompletedIndex: this.data.lastCompletedIndex,
                    sessionProgress: this.data.sessionProgress,
                    timestamp: new Date().toISOString()
                };
                
                localStorage.setItem('specialInsuranceProgress', JSON.stringify(progress));
                console.log('íŠ¹ì¢…ë³´í—˜ ì§„í–‰ìƒí™© ì €ì¥ ì™„ë£Œ:', progress);
            },

            // í†µê³„ ì—…ë°ì´íŠ¸
            updateStats: function() {
                const totalQuestions = this.data.questions.length;
                const completedQuestions = this.data.completedQuestions;
                const correctAnswers = this.data.correctAnswers;
                
                const progressPercent = totalQuestions > 0 ? Math.round((completedQuestions / totalQuestions) * 100) : 0;
                const accuracyPercent = completedQuestions > 0 ? Math.round((correctAnswers / completedQuestions) * 100) : 0;
                
                // í†µê³„ ì—…ë°ì´íŠ¸
                document.getElementById('progress-percent').textContent = progressPercent + '%';
                document.getElementById('accuracy-percent').textContent = accuracyPercent + '%';
                document.getElementById('completed-text').textContent = `ì´ ${totalQuestions}ë¬¸ì œ ì¤‘ ${completedQuestions}ë¬¸ì œ ì™„ë£Œ`;
                document.getElementById('correct-text').textContent = `í’€ì´ ${completedQuestions}ë¬¸ì œ ì¤‘ ${correctAnswers}ë¬¸ì œ ì •ë‹µ`;
                document.getElementById('total-count').textContent = totalQuestions;
                
                console.log('íŠ¹ì¢…ë³´í—˜ í†µê³„ ì—…ë°ì´íŠ¸:', {
                    total: totalQuestions,
                    completed: completedQuestions,
                    correct: correctAnswers,
                    progress: progressPercent + '%',
                    accuracy: accuracyPercent + '%'
                });
            },

            // ë¬¸ì œ í‘œì‹œ
            showQuestion: function() {
                if (!this.data.isDataLoaded || this.data.questions.length === 0) {
                    document.getElementById('question-text').textContent = 'íŠ¹ì¢…ë³´í—˜ ë¬¸ì œë¥¼ ë¡œë“œí•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤...';
                    return;
                }

                const question = this.data.questions[this.data.currentQuestionIndex];
                if (!question) {
                    document.getElementById('question-text').textContent = 'ëª¨ë“  ë¬¸ì œë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!';
                    return;
                }

                document.getElementById('question-code').textContent = question.QCODE || 'ì½”ë“œ ì—†ìŒ';
                document.getElementById('question-type').textContent = question.TYPE || 'ì§„ìœ„í˜•';
                document.getElementById('question-text').textContent = question.QUESTION;
                document.getElementById('layer-info').textContent = `${question.LAYER1} > ${question.LAYER2 || 'ë¯¸ë¶„ë¥˜'}`;

                // ë‹µì•ˆ ë²„íŠ¼ ìƒì„±
                this.createAnswerButtons(question);
                
                // ì´ì „ì— í’€ì—ˆë˜ ë¬¸ì œì¸ì§€ í™•ì¸
                const previousResult = this.data.sessionProgress[this.data.currentQuestionIndex];
                if (previousResult) {
                    // ì´ì „ ê²°ê³¼ í‘œì‹œ
                    this.showPreviousResult(previousResult, question);
                } else {
                    // ê²°ê³¼ ì˜ì—­ ì´ˆê¸°í™”
                    document.getElementById('result-area').classList.add('hidden');
                    document.getElementById('explanation-btn').classList.add('hidden');
                }
                
                console.log('íŠ¹ì¢…ë³´í—˜ ë¬¸ì œ í‘œì‹œ:', question.QCODE, 'ì´ì „ ê²°ê³¼:', previousResult);
            },

            // ì´ì „ ê²°ê³¼ í‘œì‹œ
            showPreviousResult: function(previousResult, question) {
                const resultArea = document.getElementById('result-area');
                const resultMessage = document.getElementById('result-message');
                
                resultArea.classList.remove('hidden');
                
                if (previousResult.isCorrect) {
                    resultMessage.className = 'p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg';
                    resultMessage.innerHTML = `
                        <div class="font-bold mb-2">âœ… ì´ì „ì— ì •ë‹µì…ë‹ˆë‹¤!</div>
                        <div class="text-sm">ì„ íƒí•œ ë‹µì•ˆ: ${previousResult.selectedAnswer}</div>
                        <div class="text-sm">ì •ë‹µ: ${question.ANSWER}</div>
                        <div class="text-xs text-gray-500 mt-2">í’€ì´ ì‹œê°„: ${new Date(previousResult.timestamp).toLocaleString()}</div>
                    `;
                } else {
                    resultMessage.className = 'p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg';
                    resultMessage.innerHTML = `
                        <div class="font-bold mb-2">âŒ ì´ì „ì— ì˜¤ë‹µì…ë‹ˆë‹¤.</div>
                        <div class="text-sm">ì„ íƒí•œ ë‹µì•ˆ: ${previousResult.selectedAnswer}</div>
                        <div class="text-sm">ì •ë‹µ: ${question.ANSWER}</div>
                        <div class="text-xs text-gray-500 mt-2">í’€ì´ ì‹œê°„: ${new Date(previousResult.timestamp).toLocaleString()}</div>
                    `;
                }

                // í•´ì„¤ ë²„íŠ¼ í‘œì‹œ (í•´ì„¤ì´ ìˆëŠ” ê²½ìš°)
                if (question.EXPLAIN) {
                    document.getElementById('explanation-btn').classList.remove('hidden');
                }
            },

            // ë‹µì•ˆ ë²„íŠ¼ ìƒì„±
            createAnswerButtons: function(question) {
                const buttonsContainer = document.getElementById('answer-buttons');
                buttonsContainer.innerHTML = '';

                if (question.TYPE === 'ì§„ìœ„í˜•') {
                    const oButton = document.createElement('button');
                    oButton.className = 'answer-btn bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg';
                    oButton.textContent = 'O';
                    oButton.onclick = () => this.selectAnswer('O');
                    buttonsContainer.appendChild(oButton);

                    const xButton = document.createElement('button');
                    xButton.className = 'answer-btn bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-lg';
                    xButton.textContent = 'X';
                    xButton.onclick = () => this.selectAnswer('X');
                    buttonsContainer.appendChild(xButton);
                } else {
                    // ê°ê´€ì‹ ì²˜ë¦¬
                    const answers = ['1', '2', '3', '4'];
                    answers.forEach(answer => {
                        const button = document.createElement('button');
                        button.className = 'answer-btn bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg';
                        button.textContent = answer;
                        button.onclick = () => this.selectAnswer(answer);
                        buttonsContainer.appendChild(button);
                    });
                }
            },

            // ë‹µì•ˆ ì„ íƒ
            selectAnswer: function(answer) {
                this.data.selectedAnswer = answer;
                
                // ëª¨ë“  ë‹µì•ˆ ë²„íŠ¼ ë¹„í™œì„±í™”
                document.querySelectorAll('.answer-btn').forEach(btn => {
                    btn.disabled = true;
                    btn.classList.add('opacity-50');
                });
                
                // ì„ íƒëœ ë‹µì•ˆ ë²„íŠ¼ ê°•ì¡°
                event.target.classList.remove('opacity-50');
                event.target.classList.add('ring-4', 'ring-blue-300');
                
                console.log('íŠ¹ì¢…ë³´í—˜ ë‹µì•ˆ ì„ íƒ:', answer);
            },

            // ì •ë‹µ í™•ì¸
            checkAnswer: function() {
                if (!this.data.selectedAnswer) {
                    alert('ë‹µì•ˆì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                    return;
                }

                const question = this.data.questions[this.data.currentQuestionIndex];
                const isCorrect = this.data.selectedAnswer === question.ANSWER;
                
                this.data.completedQuestions++;
                if (isCorrect) {
                    this.data.correctAnswers++;
                }

                // í˜„ì¬ ë¬¸ì œì˜ ì§„í–‰ìƒí™© ì €ì¥
                this.data.sessionProgress[this.data.currentQuestionIndex] = {
                    isCorrect: isCorrect,
                    selectedAnswer: this.data.selectedAnswer,
                    timestamp: new Date().toISOString()
                };

                // ë§ˆì§€ë§‰ ì™„ë£Œëœ ë¬¸ì œ ì¸ë±ìŠ¤ ì—…ë°ì´íŠ¸
                this.data.lastCompletedIndex = this.data.currentQuestionIndex;

                this.showResult(isCorrect, question);
                this.updateStats();
                this.saveProgress(); // ì§„í–‰ìƒí™© ì €ì¥
                
                console.log('íŠ¹ì¢…ë³´í—˜ ì •ë‹µ í™•ì¸:', {
                    selected: this.data.selectedAnswer,
                    correct: question.ANSWER,
                    isCorrect: isCorrect,
                    completedQuestions: this.data.completedQuestions,
                    correctAnswers: this.data.correctAnswers
                });
            },

            // ê²°ê³¼ í‘œì‹œ
            showResult: function(isCorrect, question) {
                const resultArea = document.getElementById('result-area');
                const resultMessage = document.getElementById('result-message');
                
                resultArea.classList.remove('hidden');
                
                if (isCorrect) {
                    resultMessage.className = 'p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg';
                    resultMessage.innerHTML = `
                        <div class="font-bold mb-2">âœ… ì •ë‹µì…ë‹ˆë‹¤!</div>
                        <div class="text-sm">ì„ íƒí•œ ë‹µì•ˆ: ${this.data.selectedAnswer}</div>
                        <div class="text-sm">ì •ë‹µ: ${question.ANSWER}</div>
                    `;
                } else {
                    resultMessage.className = 'p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg';
                    resultMessage.innerHTML = `
                        <div class="font-bold mb-2">âŒ ì˜¤ë‹µì…ë‹ˆë‹¤.</div>
                        <div class="text-sm">ì„ íƒí•œ ë‹µì•ˆ: ${this.data.selectedAnswer}</div>
                        <div class="text-sm">ì •ë‹µ: ${question.ANSWER}</div>
                    `;
                }

                // í•´ì„¤ ë²„íŠ¼ í‘œì‹œ (í•´ì„¤ì´ ìˆëŠ” ê²½ìš°)
                if (question.EXPLAIN) {
                    document.getElementById('explanation-btn').classList.remove('hidden');
                }
            },

            // í•´ì„¤ ë³´ê¸°
            showExplanation: function() {
                const question = this.data.questions[this.data.currentQuestionIndex];
                if (question.EXPLAIN) {
                    const resultMessage = document.getElementById('result-message');
                    resultMessage.innerHTML += `
                        <div class="mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg">
                            <div class="font-bold text-blue-800 mb-2">ğŸ“– í•´ì„¤</div>
                            <div class="text-sm text-blue-700">${question.EXPLAIN}</div>
                        </div>
                    `;
                }
            },

            // ë‹¤ìŒ ë¬¸ì œ
            nextQuestion: function() {
                if (this.data.currentQuestionIndex < this.data.questions.length - 1) {
                    this.data.currentQuestionIndex++;
                    this.data.selectedAnswer = null;
                    this.showQuestion();
                } else {
                    alert('ëª¨ë“  ë¬¸ì œë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!');
                }
            },

            // ì´ì „ ë¬¸ì œ
            prevQuestion: function() {
                if (this.data.currentQuestionIndex > 0) {
                    this.data.currentQuestionIndex--;
                    this.data.selectedAnswer = null;
                    this.showQuestion();
                }
            },

            // ì§„í–‰ìƒí™© ì´ˆê¸°í™”
            resetProgress: function() {
                if (confirm('ëª¨ë“  ì§„í–‰ìƒí™©ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')) {
                    // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì—ì„œ ì§„í–‰ìƒí™© ì‚­ì œ
                    localStorage.removeItem('specialInsuranceProgress');
                    
                    // ë°ì´í„° ì´ˆê¸°í™”
                    this.data.completedQuestions = 0;
                    this.data.correctAnswers = 0;
                    this.data.currentQuestionIndex = 0;
                    this.data.selectedAnswer = null;
                    this.data.isFirstTime = true;
                    this.data.lastCompletedIndex = -1;
                    this.data.sessionProgress = {};
                    
                    // í†µê³„ ì—…ë°ì´íŠ¸ ë° ì²« ë¬¸ì œ í‘œì‹œ
                    this.updateStats();
                    this.showQuestion();
                    
                    console.log('íŠ¹ì¢…ë³´í—˜ ì§„í–‰ìƒí™© ì´ˆê¸°í™” ì™„ë£Œ');
                }
            }
        };

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        window.onload = function() {
            SpecialInsuranceTest.init();
            
            // í•™ìŠµ ëª¨ë“œ ë³€ê²½ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            document.querySelectorAll('input[name="learning-mode"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const learningMode = this.value;
                    console.log('í•™ìŠµ ëª¨ë“œ ë³€ê²½:', learningMode);
                    
                    if (learningMode === 'restart') {
                        // ì²˜ìŒë¶€í„° í’€ê¸°: ì§„í–‰ìƒí™© ì´ˆê¸°í™”
                        SpecialInsuranceTest.resetProgress();
                        SpecialInsuranceTest.data.currentQuestionIndex = 0;
                        SpecialInsuranceTest.data.selectedAnswer = null;
                        SpecialInsuranceTest.data.completedQuestions = 0;
                        SpecialInsuranceTest.data.correctAnswers = 0;
                        SpecialInsuranceTest.data.sessionProgress = {};
                        SpecialInsuranceTest.updateStats();
                        SpecialInsuranceTest.showQuestion();
                        console.log('íŠ¹ì¢…ë³´í—˜ ì§„í–‰ìƒí™© ì´ˆê¸°í™” ì™„ë£Œ');
                    } else {
                        // ì´ì–´í’€ê¸°: ì§„í–‰ìƒí™© ë¡œë“œ
                        SpecialInsuranceTest.loadProgress();
                        SpecialInsuranceTest.updateStats();
                        SpecialInsuranceTest.showQuestion();
                        console.log('íŠ¹ì¢…ë³´í—˜ ì§„í–‰ìƒí™© ë¡œë“œ ì™„ë£Œ');
                    }
                });
            });
        };
    </script>
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .hidden { display: none; }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto">
            <!-- í—¤ë” -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex justify-between items-center">
                    <h1 class="text-2xl font-bold text-gray-800">íŠ¹ì¢…ë³´í—˜ ëª¨ë“ˆ í…ŒìŠ¤íŠ¸</h1>
                    <div class="text-sm text-gray-600">
                        <span id="error-message" class="text-red-600"></span>
                    </div>
                </div>
            </div>

            <!-- í•™ìŠµ ëª¨ë“œ ì„ íƒ -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">í•™ìŠµ ëª¨ë“œ ì„ íƒ</h2>
                <div class="flex space-x-6">
                    <label class="flex items-center">
                        <input type="radio" name="learning-mode" value="continue" checked class="mr-2">
                        <span class="text-blue-700 font-medium">ğŸ”„ ì´ì–´í’€ê¸° (ê¸°ë³¸)</span>
                        <span class="text-sm text-gray-600 ml-2">- ë§ˆì§€ë§‰ ì™„ë£Œ ì§€ì ë¶€í„° ì‹œì‘</span>
                    </label>
                    <label class="flex items-center">
                        <input type="radio" name="learning-mode" value="restart" class="mr-2">
                        <span class="text-orange-700 font-medium">ğŸ”„ ì²˜ìŒë¶€í„° í’€ê¸°</span>
                        <span class="text-sm text-gray-600 ml-2">- ëª¨ë“  ì§„í–‰ìƒí™© ì´ˆê¸°í™”</span>
                    </label>
                </div>
            </div>

            <!-- í†µê³„ -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                <div class="bg-white rounded-lg shadow-lg p-4">
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">ì§„í–‰ë¥ </h3>
                    <p class="text-2xl font-bold text-blue-600" id="progress-percent">0%</p>
                    <p class="text-sm text-gray-600" id="completed-text">ì´ 0ë¬¸ì œ ì¤‘ 0ë¬¸ì œ ì™„ë£Œ</p>
                </div>
                <div class="bg-white rounded-lg shadow-lg p-4">
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">ì •ë‹µë¥ </h3>
                    <p class="text-2xl font-bold text-green-600" id="accuracy-percent">0%</p>
                    <p class="text-sm text-gray-600" id="correct-text">í’€ì´ 0ë¬¸ì œ ì¤‘ 0ë¬¸ì œ ì •ë‹µ</p>
                </div>
                <div class="bg-white rounded-lg shadow-lg p-4">
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">ë¬¸ì œ ì •ë³´</h3>
                    <p class="text-2xl font-bold text-orange-600" id="total-count">0</p>
                    <p class="text-sm text-gray-600">íŠ¹ì¢…ë³´í—˜ ë¬¸ì œ ìˆ˜</p>
                </div>
            </div>

            <!-- ë¬¸ì œ ì˜ì—­ -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="mb-4 p-4 bg-gray-50 rounded-lg">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-sm text-gray-600" id="question-type">ì§„ìœ„í˜•</span>
                        <span class="text-sm text-gray-600" id="question-code">ABANK-0001</span>
                    </div>
                    <div class="text-sm text-gray-600 mb-2">
                        <span id="layer-info">07íŠ¹ì¢…ë³´í—˜ > íŠ¹ì¢…ë³´í—˜</span>
                    </div>
                </div>

                <div class="mb-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">ë¬¸ì œ</h3>
                    <p class="text-gray-700 leading-relaxed" id="question-text">
                        íŠ¹ì¢…ë³´í—˜ ë¬¸ì œë¥¼ ë¡œë“œí•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤...
                    </p>
                </div>

                <div class="mb-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">ë‹µì•ˆ ì„ íƒ</h3>
                    <div id="answer-buttons" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    </div>
                </div>

                <div id="result-area" class="hidden mb-6">
                    <div class="p-4 rounded-lg" id="result-message">
                    </div>
                </div>

                <div class="flex justify-between items-center">
                    <button onclick="SpecialInsuranceTest.prevQuestion()" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg">
                        ì´ì „ ë¬¸ì œ
                    </button>
                    <div class="flex space-x-2">
                        <button onclick="SpecialInsuranceTest.checkAnswer()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg">
                            ì •ë‹µ í™•ì¸
                        </button>
                        <button onclick="SpecialInsuranceTest.showExplanation()" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg hidden" id="explanation-btn">
                            í•´ì„¤ ë³´ê¸°
                        </button>
                        <button onclick="SpecialInsuranceTest.resetProgress()" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg">
                            ì§„í–‰ìƒí™© ì´ˆê¸°í™”
                        </button>
                    </div>
                    <button onclick="SpecialInsuranceTest.nextQuestion()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg">
                        ë‹¤ìŒ ë¬¸ì œ
                    </button>
                </div>
            </div>
        </div>
    </div>
</body>
</html> 