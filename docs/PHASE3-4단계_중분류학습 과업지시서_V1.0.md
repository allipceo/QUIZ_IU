📋 PHASE 3-4단계 중분류 학습 모드 기능정의서 V1.1 (초안) - 노팀장 의견 반영 (2025.07.26 23:25 KST)
작성자: 코코치 (프로젝트 총괄 팀장)
최종 승인: 조대표님 (예정)
목표: AICU Quiz App의 중분류 학습 모드 구현을 위한 UI 설계 및 핵심 기능 방향성 제시 (가볍고 빠르며 학습 효과 극대화 지향)

1. 프로젝트 현황 및 목표 재확인
현재 위치: Phase 3 (배포 준비) 진행 중. 대분류 학습 모드(index3.4.html) 구현이 진행 중입니다.

최우선 목표: index3.5.html 파일을 기반으로 중분류 학습 모드의 UI 및 2단계 문제 선택 구조(대분류 → 중분류)를 구현하여, 사용자가 원하는 중분류의 문제만 학습할 수 있도록 합니다.

독립적 진행: 본 과업은 대분류 학습 모드와는 별개로 진행됩니다.

2. 핵심 개발 원칙 (기존 기능정의서 V1.5 유지 및 보강)
UI V2.3 유지: 조대표님께서 확정하신 UI V2.3의 디자인 및 레이아웃은 모든 페이지에서 일관되게 유지하며, 절대 변경하지 않습니다.

데이터 소스 공식화: ins_master_db.csv 파일을 앞으로의 모든 개발 작업에서 공식 문제 데이터 파일로 사용합니다. (총 1,379개 문제, 인스교재 및 중개사시험 포함)

데이터 저장 전략: LocalStorage 활용, 명언 목록 하드코딩, ACIUDataStructure 유지 (필요 최소 필드 활용).

파일 수정 책임: 서대리님만 index3.5.html 파일 수정을 전담합니다.

파일 버전 관리: 조대표님께서 파일 버전업을 결정하며, index3.5.html부터 순차적으로 버전을 관리합니다.

모듈화 전략 (노팀장님 & 서대리님 의견 종합):

단기 (index3.5.html 작업) - Phase 1: 단일 파일 유지: 현재는 단일 HTML 파일 내에 모든 HTML, CSS, JavaScript 코드를 통합하여 개발 속도를 우선합니다.

함수 단위 구조화: 모든 JavaScript 코드는 향후 모듈 분리가 용이하도록 함수 단위로 명확하게 구조화합니다. (예: ACIUApp 네임스페이스 패턴 적용)

중장기: 핵심 기능 구현 및 배포 이후, graph-module.js, learning-engine.js, settings-module.js 등으로 핵심 모듈을 별도 파일로 분리하는 작업을 점진적으로 추진합니다.

성능 최적화 고려 (서대리님 제안 반영):

LocalStorage 접근 최소화를 위해 캐싱 전략(LearningDataManager 클래스처럼)을 도입합니다.

카테고리별 문제 미리 그룹화: ACIUApp.data.categoryQuestions와 같이 데이터를 로드할 때 미리 카테고리별로 문제를 그룹화하여 필터링 성능을 최적화합니다. (노팀장님/서대리님 제안 반영) (그룹화는 앱 초기 로딩 시 한 번만 수행하여 메모리 사용량 증가를 최소화)

메모리 관리: 중분류별 문제 목록을 필요할 때만 로드하는 지연 로딩 방식(Lazy Loading)을 고려하여 사용하지 않는 데이터는 메모리에서 해제하는 방안을 검토합니다.

오류 처리 강화 (노팀장님 & 서대리님 의견 반영):

각 기능별 폴백(Fallback) 계획을 수립합니다. (예: CSV 로딩 실패 시 샘플 데이터 사용, LocalStorage 접근 실패 시 메모리 저장)

모듈 로딩 실패 시 대응 방안을 마련합니다.

문제 없는 카테고리 처리: 해당 카테고리에 문제가 없을 경우 사용자에게 메시지를 표시하고 진행을 중단합니다.

브라우저 호환성 (서대리님 제안 반영):

IE11 등 특정 브라우저에 대한 대응 방안(폴리필 적용 또는 대체 로직)을 고려합니다. (현재는 최신 브라우저 기준)

3. 중분류 학습 페이지 (mid-category-learning mode) 기능 정의 및 UI (더미 데이터 활용)
이 섹션에서는 중분류 학습 페이지의 UI와 기능을 정의합니다. 현재는 더미 데이터를 활용하여 UI와 기능의 '뼈대'를 신속하게 확정하는 데 집중합니다. 실제 데이터 연동은 UI/기능의 큰 흐름이 확정된 후 이루어집니다.

3.1 중분류 학습 페이지 UI 구성
기본 화면 구조: common-learning-screen을 기본으로 사용합니다.

좌측 상단: '🏠 홈으로' 버튼을 배치합니다.

화면 구조 및 색상 일관성 유지: ACIU 기능정의서 V1.2의 UI V2.3 디자인 원칙을 따릅니다.

UI 요소 배치 (조대표님 요구사항 '행' 순서 반영):

첫 번째 행: 명언 (quote-of-the-day) 유지.

두 번째 행: 보유 문제 현황 (상세) 표시. (대분류 학습 페이지와 동일한 가독성 향상 포맷 적용)

UI: 인스교재 총수 (선택형 [개], 진위형 [개]), 보험중개사시험 총수 (진위형 [수], 선택형 [수]), 총계: [합계 문제수]

데이터: 더미 데이터를 사용하여 표시.

// 예시 더미 데이터 (ACIUApp.data 내에 정의)
ACIUApp.data.dummySourceCounts = {
    '인스교재': { total: 789, choice: 389, truefalse: 400 },
    '보험중개사시험': { total: 590, choice: 390, truefalse: 200 },
    '총계': { total: 1379, choice: 779, truefalse: 600 }
};

세 번째 행: 학습 진도 현황 (대분류 및 중분류별) 표시. (가독성 향상 및 평균 점수/커트라인 표시 포맷 적용)

UI: "[대분류명] > [중분류명] 학습 현황: [학습한 문제 수] / [총 문제 수] ([퍼센트]%)", "미학습 문제: [미학습 문제 수]"

4과목 평균 학습률: 별도의 카드 형태로 4개 대분류 과목의 평균 학습률을 크게 표시하고, "합격 커트라인: 60% 이상" 문구를 함께 표시합니다.

합격 기준: 섹션 하단에 "과목별 커트라인: 40점 이상", "4과목 평균 커트라인: 60점 이상" 문구를 명확히 표시하여 동기 부여를 강화합니다.

데이터: 더미 데이터를 사용하여 표시.

// 예시 더미 데이터 (ACIUApp.data 내에 정의)
ACIUApp.data.dummyMidCategoryProgress = {
    '재산보험': {
        '화재보험': { total: 100, completed: 10, unlearned: 90, percentage: 10 },
        '해상보험': { total: 80, completed: 5, unlearned: 75, percentage: 6 }
    },
    '특종보험': {
        '배상책임보험': { total: 120, completed: 15, unlearned: 105, percentage: 12 }
    }
    // ... (실제 데이터는 ins_master_db.csv의 LAYER1, LAYER2 조합 기반)
};

네 번째 행: 1단계 선택: 대분류 버튼 그룹

타이틀: "대분류 선택"

버튼 그룹 형태: '재산보험', '특종보험', '배상책임보험', '해상보험' 등의 대분류 버튼을 한 줄로 가지런히 배열합니다. (자동차보험 제외)

UI/UX 세부사항: 각 대분류 버튼에 해당 대분류의 총 문제 수를 함께 표시합니다. (예: 재산보험 (300문제))

선택 강조: 선택된 대분류 버튼은 시각적으로 강조됩니다.

다섯 번째 행: 2단계 선택: 중분류 버튼 그룹 (선택된 대분류에 따라 동적 표시)

타이틀: "중분류 선택"

버튼 그룹 형태: 선택된 대분류에 속하는 중분류(LAYER2) 버튼들을 배열합니다.

UI/UX 세부사항: 각 중분류 버튼에 해당 중분류의 총 문제 수를 함께 표시합니다.

선택 강조: 선택된 중분류 버튼은 시각적으로 강조됩니다.

초기 상태: 대분류가 선택되기 전에는 중분류 버튼 그룹은 비활성화되거나 숨겨져 있습니다.

여섯 번째 행: 통계 데이터 불러오기 버튼 유지.

"📊 통계 데이터 불러오기" 버튼을 대문 페이지와 동일하게 유지합니다.

문제 표시 영역:

문제 유형, 문제 코드, LAYER1, LAYER2, LAYER3 정보

문제 텍스트 (QUESTION 필드 내용 전체 표시)

진행 상황 표시 개선: 현재 선택된 문제의 경로를 "[대분류명] > [중분류명] > 문제 [현재 문제 번호]/[총 문제 수]" 형식으로 명확하게 표시합니다. (예: "재산보험 > 화재보험 > 문제 3/100")

답안 선택:

진위형: 'O', 'X' 버튼만 표시

선택형: '1', '2', '3', '4' 버튼만 표시

결과 표시: 정답/오답 메시지

네비게이션/액션 버튼: '이전 문제', '정답 확인', '다음 문제', '해설 보기'

3.2 중분류 학습 페이지 기능 정의 (더미 데이터 활용)
모드 진입: 대문 페이지에서 "중분류 학습" 버튼 클릭 시, mid-category-learning 모드로 진입하며 해당 UI가 표시됩니다.

대분류 선택 및 중분류 목록 표시:

사용자가 대분류 버튼을 클릭하면, 해당 대분류에 속하는 중분류 목록이 동적으로 생성되어 '중분류 선택' 영역에 표시됩니다.

이때, ACIUApp.data.dummyMidCategoryProgress와 같은 더미 데이터를 활용하여 중분류 목록과 각 중분류의 문제 수를 표시합니다.

현재 단계에서는 실제 ins_master_db.csv에서 LAYER2 값을 동적으로 추출하고, 각 중분류별 문제 수를 계산하여 버튼을 생성하는 기능은 제외하고 향후 업그레이드 시 반영합니다. (서대리님 의견: 실제 CSV 파일의 LAYER2 값들을 먼저 분석하여 더미 데이터 구조를 설계하는 것이 좋겠습니다.)

중분류 선택 및 문제 필터링:

사용자가 중분류 버튼을 클릭하면, 해당 대분류 및 중분류에 속하는 문제들만 필터링된 것처럼 UI에 표시됩니다.

현재 단계에서는 실제 필터링 로직 없이 더미 데이터를 기반으로 문제 표시 영역에 "선택된 [대분류명] > [중분류명]의 첫 번째 문제입니다." 와 같은 메시지를 표시하는 것으로 대체합니다.

currentQuestionIndex를 0으로 초기화하여 항상 해당 중분류의 첫 문제부터 시작하는 것처럼 표시합니다.

문제 풀이 흐름:

'한 문제씩' 풀기 (basic-learning 모드와 동일한 로직): 문제 표시, 답안 선택, 정답 확인, 문제 이동(이전/다음), 해설 보기 기능이 정상적으로 작동하는 '것처럼' UI를 구성합니다. (실제 문제 데이터는 더미 데이터를 활용하거나, 기본 학습 모드의 문제를 임시로 사용)

통계 업데이트:

해당 중분류 내에서의 학습 현황 통계(전체 기간 기준)가 UI에 표시됩니다. (더미 데이터 기반)

4과목 평균 학습률 계산: ACIUApp.learning.calculateAverageCategoryPercentage() 함수를 통해 4개 대분류 과목의 평균 학습률을 계산하고 UI에 표시합니다. (이는 대분류 기준이므로 중분류 모드에서는 해당 섹션의 데이터만 업데이트)

중분류 변경 시 진행 상황: 다른 중분류로 이동했다가 다시 돌아올 때, 항상 해당 중분류의 첫 문제부터 시작합니다. (서대리님 의견: "이어서 풀기" vs "처음부터 풀기" 선택 옵션은 향후 고도화 시점에 고려합니다.)

'홈으로' 버튼: 클릭 시 대문 페이지로 돌아갑니다.

진위형/선택형 문제 표시 및 필터링 (현재 단계에서는 제외):

중분류 선택 후, 해당 중분류 내에서 진위형 문제만 풀기 버튼과 선택형 문제만 풀기 버튼을 별도로 제공합니다.

사용자가 이 버튼들을 클릭하면, filteredQuestions 배열이 해당 중분류 내에서 다시 TYPE 필드를 기준으로 필터링되어 문제들이 표시됩니다.

'진위형/선택형' 버튼을 누르지 않으면, 해당 중분류 내의 모든 문제(TYPE 무관)가 ins_master_db.csv 원본 순서대로 표시됩니다. (이 기능은 현재 단계에서는 제외하고 향후 업그레이드 시 반영합니다. 서대리님 의견: 기본 기능 구현 후 빠른 시일 내에 이 기능을 추가하는 것이 학습 효과에 도움이 될 것입니다.)

4. 다음 단계 및 역할 분담
조대표님, 이 PHASE 3-4단계 중분류 학습 모드 기능정의서 V1.1 (초안)은 중분류 학습 모드 구현을 위한 초기 가이드라인입니다.

조대표님 승인: 이 기능 정의서 초안에 대해 조대표님의 최종 승인을 부탁드립니다.

서대리님께 지시: 조대표님의 승인 후, 서대리님께 index3.4.html 파일을 index3.5.html로 복사하고, 이 기능 정의서에 따라 중분류 학습 모드의 UI 및 더미 데이터 기반의 기능을 구현하도록 지시하겠습니다.

노팀장님 역할: 노팀장님은 서대리님의 작업 과정에서 데이터 필터링 로직(특히 LAYER1, LAYER2 기준), 통계 계산, 성능 최적화 등 기술적인 부분에 대해 적극적으로 자문하고 지원해 주십시오.

5. 노팀장 의견 및 코코치 검토 (2025.07.26 23:25 KST)
노팀장님께서 PHASE 3-4단계 중분류 학습 모드 기능정의서 V1.1 (초안)에 대해 다음과 같은 주요 질문과 제안을 주셨습니다. 코코치로서 이를 검토하고 조대표님의 최종 결정을 구합니다.

5.1 노팀장 의견 요약
✅ 좋은 점:

2단계 선택 구조 명확함 (대분류 → 중분류)

더미 데이터 기반 접근으로 안정성 확보

UI 일관성 유지 원칙 적용

🤔 주요 질문 (우려 사항):

복잡성 우려: "대분류 5개 × 중분류 각 3-5개 = 15-25개 버튼"으로 인해 사용자가 혼란스러울 수 있다는 우려.

개발 순서 효율성: 현재 대분류 모드가 더미 데이터인 상황에서 중분류 모드를 또 더미로 만드는 것이 효율적인지 의문 제기.

실용성: 실제 학습에서 중분류까지 세분화가 필요한지, 대분류만으로도 충분하지 않은지 검토 필요.

💡 노팀장 제안:

대안 1: 대분류 모드를 실제 CSV 데이터로 먼저 완성

대안 2: 중분류 대신 "진위형/선택형 필터" 우선 구현

대안 3: 늦은 시간이니 내일 결정

5.2 코코치 검토 의견
노팀장님의 우려 사항은 매우 타당하며, 프로젝트의 효율성과 사용자 경험 측면에서 중요한 고려사항입니다.

복잡성: 중분류 버튼의 수가 많아질 경우 UI가 복잡해지고 사용자 피로도가 증가할 수 있습니다. 이는 UI/UX를 총괄하는 코코치로서 깊이 공감하는 부분입니다.

개발 순서 효율성: 현재 대분류 모드 역시 더미 데이터 기반으로 UI '뼈대'만 구현된 상태이므로, 중분류 모드를 또 다시 더미로 구현하는 것이 실제 데이터 연동 시 중복 작업이 발생할 가능성이 있습니다. 노팀장님의 제안처럼 대분류 모드를 먼저 실제 데이터로 완성하는 것이 더 효율적인 접근일 수 있습니다.

실용성: 조대표님의 학습 목표를 달성하는 데 있어 대분류만으로 충분한지, 아니면 중분류까지의 세분화가 필수적인지에 대한 조대표님의 최종 판단이 필요합니다.

노팀장님의 제안 중 **"대안 1: 대분류 모드를 실제 CSV 데이터로 먼저 완성"**하는 방안은 현재 대분류 모드 구현이 진행 중인 상황에서 가장 현실적이고 안정적인 접근이라고 판단됩니다. 이를 통해 데이터 연동 및 필터링 로직을 먼저 확립하고, 이후 중분류 모드로 확장하는 것이 개발 효율성을 높일 수 있습니다.

또한, 노팀장님께서 현재 시간이 늦었으니 내일 결정하는 것을 제안해주신 점도 매우 적절하다고 생각합니다.

5.3 조대표님께 요청
조대표님, 노팀장님의 의견과 코코치의 검토 의견을 종합적으로 고려하시어, 중분류 학습 모드 진행에 대한 최종 결정을 부탁드립니다.

대안 1 (대분류 모드 실제 데이터 완성 후 중분류 진행)

대안 2 (중분류 대신 진위형/선택형 필터 우선 구현)

대안 3 (내일 결정)

어떤 방향으로 진행할지 지시해 주시면, 제가 노팀장님과 서대리님께 명확히 전달하고 프로젝트를 관리하겠습니다.