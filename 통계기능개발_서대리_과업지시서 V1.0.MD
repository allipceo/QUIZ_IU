ACIU QUIZ 앱 통계 기능 개발 - 서대리 코딩 과업 지시서 V1.0
🎯 과업 개요
서대리님, ACIU QUIZ 앱 통계 기능 개발 기획서 V2.0에 따라 앱의 통계 기능을 구현하는 핵심적인 코딩 과업을 담당해 주십시오. 본 과업의 목표는 사용자 학습 현황을 명확하게 시각화하고, 데이터의 지속성과 일관성을 확보하며, 앱의 성능을 최적화하는 것입니다.

⚠️ 핵심 지시 사항 (절대 엄수)
기존 CSV 데이터 필드 절대 수정 금지:

현재 작업 폴더에 있는 ins_master_db.csv, ins_1db.csv, ins_2db.csv, ins_3db.csv, ins_4db.csv 등 5개의 CSV 데이터 파일에 대해서는 일체 변형을 하지 않아야 합니다.

파싱, 구조화, 전처리 등 모든 과정은 이미 완료된 상태입니다.

특히, QUESTION 필드를 포함한 기존의 어떠한 필드도 건드려서는 안 됩니다.

새로운 필드 생성 및 데이터 입력 허용:

통계 기능 구현을 위해 새로운 필드를 만들거나 데이터를 입력하는 것은 허용됩니다. 이는 기존 데이터의 무결성을 해치지 않는 범위 내에서 진행되어야 합니다.

예를 들어, 문제별 정답 여부 기록을 위한 내부 데이터 구조 추가 등은 가능합니다.

🛠️ 주요 코딩 과업
기획서 V2.0의 핵심 기능 구현 방안 및 핵심 함수 설계 및 개선 섹션을 기반으로 다음 과업들을 순서대로 진행해 주십시오.

Phase 1: 핵심 인프라 구현 (1일)
aciu_statistics 통합 스키마 구현:

기획서 V2.0에 제시된 unifiedStatisticsSchema를 참고하여, Local Storage에 aciu_statistics라는 단일 키로 모든 통계 데이터를 저장하는 구조를 구현합니다.

StatisticsCache 클래스 구현:

Local Storage 접근을 최소화하고 메모리 캐시를 활용하기 위한 StatisticsCache 클래스를 구현합니다. (메서드: get(), set(), flush())

기본 데이터 관리 함수 구현:

initializeStatistics(): 앱 초기 로딩 시 또는 초기화 시 aciu_statistics 객체를 생성 및 초기화하고 Local Storage에 저장하는 로직을 구현합니다.

loadStatisticsData(): StatisticsCache를 활용하여 Local Storage에서 통계 데이터를 로드하는 로직을 구현합니다.

saveStatisticsData(): StatisticsCache.flush()를 호출하여 캐싱된 데이터를 Local Storage에 저장하는 로직을 구현합니다.

getTodayKey(): 오늘 날짜를 YYYY-MM-DD 형식으로 반환하는 유틸리티 함수를 구현합니다.

migrateOldData() 함수 구현:

기존 aicu_save_data가 존재할 경우, 이를 새로운 aciu_statistics 스키마로 안전하게 변환하여 저장하는 마이그레이션 로직을 구현합니다. (앱 최초 실행 시 1회만 동작하도록)

countQuestionsBySource(csvData) 함수 구현:

ins_master_db.csv를 파싱하여 "인스교재", "보험중개사 시험" 문제 수를 카운트하고 aciu_statistics.questionCounts에 저장하는 로직을 구현합니다. (앱 초기 로드 시 1회 실행)

Phase 2: 대문 통계 구현 (1일)
대문 통계 UI 업데이트 및 데이터 연동:

"보유 문제수 현황" (questionCounts 기반) 및 "학습 진도 현황" (global.cumulative 기반) UI를 업데이트하는 로직을 구현합니다.

"금일 학습현황" 박스 HTML을 추가하고, global.daily 데이터를 기반으로 "오늘 풀이한 총 문제수", "오늘 정답 수", "오늘 정답률"을 표시하는 로직을 구현합니다.

updateDailyStatisticsDisplay() 함수 구현:

"금일 학습현황" 박스를 업데이트하는 전용 함수를 구현합니다.

updateAllStatistics(isCorrect, mode, category) 함수 내 대문 통계 업데이트 로직 연동:

checkAnswer() 함수에서 호출될 때 global.cumulative 및 global.daily 통계를 업데이트하는 로직을 추가합니다.

"통계 데이터 불러오기" 버튼 연동:

loadStatisticsData() 함수가 이 버튼 클릭 시 호출되어 대문 통계를 갱신하도록 연동합니다.

Phase 3: 학습 모드별 통계 구현 (1일)
기본학습 화면 통계 UI 추가 및 연동:

기본학습 화면에 누적/금일 통계 UI를 추가하고, modes.basic.cumulative 및 modes.basic.daily 데이터를 연동하여 표시합니다.

updateBasicLearningStats() 함수를 구현하여 해당 UI를 업데이트합니다.

대분류학습 화면 통계 UI 추가 및 연동:

대분류학습 화면에 전체 누적 통계 (modes.largeCategory.cumulative) 및 카테고리별 상세 통계 (modes.largeCategory.categories[카테고리명]) UI를 추가하고 데이터를 연동하여 표시합니다.

updateLargeCategoryStats() 및 updateCategoryStatisticsDisplay(category) 함수를 구현하여 해당 UI를 업데이트합니다.

updateAllStatistics() 함수 내 모드별/카테고리별 통계 업데이트 로직 연동:

checkAnswer() 함수에서 호출될 때 modes.basic, modes.largeCategory, modes.largeCategory.categories 통계를 업데이트하는 로직을 추가합니다.

Phase 4: 최적화 및 폴리싱 (0.5일)
updateAllUI(stats) 및 scheduleUIUpdate() 구현:

모든 통계 관련 UI 요소를 한 번에 업데이트하는 updateAllUI() 함수와, UI 업데이트를 짧은 지연 후 배치로 처리하는 scheduleUIUpdate()를 구현하여 성능을 최적화합니다.

animateNumber() 구현:

숫자 변화에 애니메이션 효과를 적용하여 사용자 경험을 향상시킵니다.

로딩 상태 표시 구현:

showStatisticsLoading() / hideStatisticsLoading() 함수를 구현하여 통계 로딩 중 스켈레톤 UI를 표시합니다.

cleanupOldDailyData() 구현:

dailyHistory에서 30일 이상 된 데이터를 주기적으로 정리하는 로직을 구현합니다.

데이터 백업/복구 기능 구현:

exportStatistics() (JSON 파일 내보내기) 및 importStatistics() (JSON 파일 가져오기) 함수를 구현합니다.

전반적인 버그 수정 및 코드 정리:

개발 과정에서 발생하는 버그를 수정하고, 코드 가독성 및 유지보수성을 위한 코드 정리를 수행합니다.

📋 보고 및 협업
각 Phase 완료 시 노팀장님께 진행 상황을 보고하고 기술 자문을 구하십시오.

코드 변경 사항은 Git Desktop을 통해 주기적으로 커밋하고 푸시하여 원격 리포지토리에 동기화하십시오.

궁금한 점이나 기술적인 어려움이 발생하면 즉시 노팀장님께 문의하십시오.

서대리님의 역량을 믿습니다. 본 과업의 성공적인 완수를 기대합니다.